<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0"></script>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",sans-serif;
  background:linear-gradient(180deg,#2b0a3d,#ff6fa1);
}

/* BACKGROUND CANVAS */
#bg,#heartsText{
  position:fixed;
  inset:0;
  z-index:0;
}

/* UI */
.container{
  position:relative;
  z-index:3;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* CARD */
.card{
  width:460px;
  padding:48px;
  border-radius:36px;
  background:rgba(255,255,255,0.22);
  backdrop-filter:blur(30px);
  box-shadow:
    0 50px 140px rgba(0,0,0,.45),
    inset 0 0 40px rgba(255,255,255,.25);
  color:white;
  text-align:center;
  animation:float 6s ease-in-out infinite;
  transform-style:preserve-3d;
}

@keyframes float{
  0%,100%{ transform:translateY(0) scale(1); }
  50%{ transform:translateY(-10px) scale(1.02); }
}

.card:hover{
  transform:scale(1.05);
}

h1{
  font-size:36px;
  margin-bottom:10px;
}

p{
  font-size:20px;
  opacity:.95;
}

#countdown{
  margin:20px 0 30px;
  font-size:17px;
}

/* Buttons */
.buttons{
  position:relative;
  height:80px;
}

button{
  position:absolute;
  padding:16px 40px;
  border-radius:999px;
  font-size:17px;
  border:none;
  cursor:pointer;
}

.yes{
  left:0;
  background:white;
  color:#ff3f81;
  box-shadow:0 12px 30px rgba(255,255,255,.4);
}

.no{
  right:0;
  background:transparent;
  border:2px solid rgba(255,255,255,.85);
  color:white;
}

/* Floating background hearts */
.heartFloat{
  position:fixed;
  font-size:18px;
  opacity:.6;
  animation:rise linear infinite;
}

@keyframes rise{
  from{ transform:translateY(110vh) scale(.8); }
  to{ transform:translateY(-10vh) scale(1.4); opacity:0; }
}
</style>
</head>

<body>

<canvas id="bg"></canvas>
<canvas id="heartsText"></canvas>

<div class="container">
  <div class="card" id="card">
    <h1>Hey ‚ù§Ô∏è</h1>
    <p>Will you be my Valentine?</p>
    <div id="countdown"></div>
    <div class="buttons">
      <button class="yes" id="yes">Yes üíñ</button>
      <button class="no" id="no">No üôÉ</button>
    </div>
  </div>
</div>

<!-- SoundCloud (official) -->
<iframe
  id="sc"
  width="0"
  height="0"
  style="display:none"
  src="https://w.soundcloud.com/player/?url=https://on.soundcloud.com/WQUcmetMLylZnxs7qw&auto_play=false">
</iframe>

<script>
// ================= BACKGROUND GRADIENT MOTION =================
const bg=document.getElementById("bg");
const bctx=bg.getContext("2d");
function resize(){ bg.width=innerWidth; bg.height=innerHeight; }
resize(); onresize=resize;

let t=0;
function drawBG(){
  t+=0.003;
  const g=bctx.createLinearGradient(0,0,innerWidth,innerHeight);
  g.addColorStop(0,`hsl(${300+Math.sin(t)*30},80%,70%)`);
  g.addColorStop(1,`hsl(${340+Math.cos(t)*30},85%,65%)`);
  bctx.fillStyle=g;
  bctx.fillRect(0,0,bg.width,bg.height);
  requestAnimationFrame(drawBG);
}
drawBG();

// ================= FLOATING HEARTS =================
function spawnHeart(){
  const h=document.createElement("div");
  h.className="heartFloat";
  h.innerText="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=6+Math.random()*6+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),12000);
}
setInterval(spawnHeart,300);

// ================= HEART PARTICLES FORMING WORDS =================
const textCanvas=document.getElementById("heartsText");
const tctx=textCanvas.getContext("2d");
function resizeText(){ textCanvas.width=innerWidth; textCanvas.height=innerHeight; }
resizeText(); onresize=resizeText;

let particles=[];
function formText(message){
  particles=[];
  tctx.clearRect(0,0,textCanvas.width,textCanvas.height);
  tctx.font="bold 120px SF Pro Display";
  tctx.textAlign="center";
  tctx.fillText(message,textCanvas.width/2,textCanvas.height/2);

  const data=tctx.getImageData(0,0,textCanvas.width,textCanvas.height).data;
  tctx.clearRect(0,0,textCanvas.width,textCanvas.height);

  for(let y=0;y<textCanvas.height;y+=6){
    for(let x=0;x<textCanvas.width;x+=6){
      if(data[(y*textCanvas.width+x)*4+3]>150){
        particles.push({
          x:Math.random()*textCanvas.width,
          y:Math.random()*textCanvas.height,
          tx:x,
          ty:y
        });
      }
    }
  }
}

function drawParticles(){
  tctx.clearRect(0,0,textCanvas.width,textCanvas.height);
  particles.forEach(p=>{
    p.x+=(p.tx-p.x)*0.08;
    p.y+=(p.ty-p.y)*0.08;
    tctx.fillText("‚ù§Ô∏è",p.x,p.y);
  });
  requestAnimationFrame(drawParticles);
}

formText("Hi Love");
drawParticles();

// ================= INTERACTIONS =================
const no=document.getElementById("no");
addEventListener("mousemove",e=>{
  const r=no.getBoundingClientRect();
  const dx=e.clientX-(r.left+r.width/2);
  const dy=e.clientY-(r.top+r.height/2);
  if(Math.hypot(dx,dy)<120){
    no.style.transform=`translate(${-dx*.8}px,${-dy*.6}px)`;
  }
});

// Countdown
const cd=document.getElementById("countdown");
const V=new Date("Feb 14, 2026").getTime();
setInterval(()=>{
  const d=V-Date.now();
  cd.innerHTML=d>0
  ?`‚è≥ ${Math.floor(d/86400000)}d ${Math.floor(d%86400000/3600000)}h`
  :"‚ù§Ô∏è Today ‚ù§Ô∏è";
},1000);

// YES ACTION
document.getElementById("yes").onclick=()=>{
  document.getElementById("sc").contentWindow.postMessage('{"method":"play"}','*');
  confetti({particleCount:500,spread:200});
  formText("It‚Äôs a Date ‚ù§Ô∏è");
};
</script>

</body>
</html>
