<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0"></script>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",sans-serif;
  background:#1b0626;
}

/* ===== LAYERS ===== */
#bg { position:fixed; inset:0; z-index:0; }
.heartFloat { z-index:1; }
#heartText { position:fixed; inset:0; z-index:2; pointer-events:none; }
.container { position:relative; z-index:5; }

/* ===== UI ===== */
.container{
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}

.card{
  width:480px;
  padding:52px;
  border-radius:40px;
  background:rgba(255,255,255,0.22);
  backdrop-filter:blur(30px);
  box-shadow:
    0 50px 140px rgba(0,0,0,.45),
    inset 0 0 40px rgba(255,255,255,.3);
  color:white;
  text-align:center;
  animation:float 6s ease-in-out infinite;
}

@keyframes float{
  0%,100%{ transform:translateY(0); }
  50%{ transform:translateY(-14px); }
}

h1{ font-size:38px; margin-bottom:10px; }
p{ font-size:20px; opacity:.95; }

#countdown{
  margin:22px 0 30px;
  font-size:17px;
}

/* Buttons */
.buttons{ position:relative; height:90px; }
button{
  position:absolute;
  padding:18px 44px;
  border-radius:999px;
  font-size:18px;
  border:none;
  cursor:pointer;
  transition:transform .2s ease;
}

.yes{
  left:0;
  background:white;
  color:#ff3f81;
  box-shadow:0 12px 32px rgba(255,255,255,.5);
}
.yes:hover{ transform:scale(1.08); }

.no{
  right:0;
  background:transparent;
  border:2px solid rgba(255,255,255,.9);
  color:white;
}

/* Cursor hearts */
.cursor-heart{
  position:fixed;
  pointer-events:none;
  animation:trail 1s ease forwards;
  z-index:4;
}
@keyframes trail{
  to{ transform:translateY(-40px) scale(1.4); opacity:0; }
}
</style>
</head>

<body>

<canvas id="bg"></canvas>
<canvas id="heartText"></canvas>

<div class="container">
  <div class="card">
    <h1>Hey ‚ù§Ô∏è</h1>
    <p>Will you be my Valentine?</p>
    <div id="countdown"></div>
    <div class="buttons">
      <button class="yes" id="yes">Yes üíñ</button>
      <button class="no" id="no">No üôÉ</button>
    </div>
  </div>
</div>

<!-- SoundCloud -->
<iframe
  id="sc"
  width="0"
  height="0"
  style="display:none"
  src="https://w.soundcloud.com/player/?url=https://on.soundcloud.com/WQUcmetMLylZnxs7qw">
</iframe>

<script>
/* ===== BACKGROUND (INTERACTIVE) ===== */
const bg=document.getElementById("bg");
const ctx=bg.getContext("2d");
function resize(){ bg.width=innerWidth; bg.height=innerHeight; }
resize(); onresize=resize;

let mx=innerWidth/2,my=innerHeight/2,t=0;
addEventListener("mousemove",e=>{mx=e.clientX;my=e.clientY;});

function drawBG(){
  t+=0.005;
  const g=ctx.createRadialGradient(mx,my,100,innerWidth/2,innerHeight/2,innerWidth);
  g.addColorStop(0,`hsl(${320+Math.sin(t)*20},85%,70%)`);
  g.addColorStop(1,`hsl(${260+Math.cos(t)*20},70%,40%)`);
  ctx.fillStyle=g;
  ctx.fillRect(0,0,bg.width,bg.height);
  requestAnimationFrame(drawBG);
}
drawBG();

/* ===== FLOATING HEARTS ===== */
function spawnHeart(){
  const h=document.createElement("div");
  h.className="heartFloat";
  h.innerText="‚ù§Ô∏è";
  h.style.position="fixed";
  h.style.left=Math.random()*100+"vw";
  h.style.bottom="-30px";
  h.style.fontSize=16+Math.random()*18+"px";
  h.style.opacity=.6;
  h.style.animation=`rise ${6+Math.random()*6}s linear`;
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),12000);
}
setInterval(spawnHeart,300);

/* ===== HEART WORDS ===== */
const ht=document.getElementById("heartText");
const hctx=ht.getContext("2d");
function resizeText(){ ht.width=innerWidth; ht.height=innerHeight; }
resizeText(); onresize=resizeText;

let particles=[];
function formText(txt){
  particles=[];
  hctx.clearRect(0,0,ht.width,ht.height);
  hctx.font="bold 110px SF Pro Display";
  hctx.textAlign="center";
  hctx.fillText(txt,ht.width/2,ht.height/2);
  const data=hctx.getImageData(0,0,ht.width,ht.height).data;
  hctx.clearRect(0,0,ht.width,ht.height);

  for(let y=0;y<ht.height;y+=7){
    for(let x=0;x<ht.width;x+=7){
      if(data[(y*ht.width+x)*4+3]>150){
        particles.push({x:Math.random()*ht.width,y:Math.random()*ht.height,tx:x,ty:y});
      }
    }
  }
}
function animateText(){
  hctx.clearRect(0,0,ht.width,ht.height);
  particles.forEach(p=>{
    p.x+=(p.tx-p.x)*0.07;
    p.y+=(p.ty-p.y)*0.07;
    hctx.fillText("‚ù§Ô∏è",p.x,p.y);
  });
  requestAnimationFrame(animateText);
}
formText("Hi Love");
animateText();

/* ===== CURSOR HEART TRAIL ===== */
addEventListener("mousemove",e=>{
  const h=document.createElement("div");
  h.className="cursor-heart";
  h.innerText="‚ù§Ô∏è";
  h.style.left=e.clientX+"px";
  h.style.top=e.clientY+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),900);
});

/* ===== RUNAWAY NO ===== */
const no=document.getElementById("no");
addEventListener("mousemove",e=>{
  const r=no.getBoundingClientRect();
  const dx=e.clientX-(r.left+r.width/2);
  const dy=e.clientY-(r.top+r.height/2);
  if(Math.hypot(dx,dy)<120){
    no.style.transform=`translate(${-dx*.9}px,${-dy*.7}px)`;
  }
});

/* ===== COUNTDOWN ===== */
const cd=document.getElementById("countdown");
const V=new Date("Feb 14, 2026").getTime();
setInterval(()=>{
  const d=V-Date.now();
  cd.innerHTML=d>0
    ?`‚è≥ ${Math.floor(d/86400000)}d ${Math.floor(d%86400000/3600000)}h`
    :"‚ù§Ô∏è Today ‚ù§Ô∏è";
},1000);

/* ===== YES BUTTON (FIXED) ===== */
document.getElementById("yes").onclick=()=>{
  document.getElementById("sc").contentWindow.postMessage(
    JSON.stringify({method:"play"}),"*"
  );
  confetti({particleCount:500,spread:200});
  formText("It‚Äôs a Date ‚ù§Ô∏è");
};
</script>

</body>
</html>
